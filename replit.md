# 5Central Capital Analytics Dashboard

## Overview

This is a full-stack web application for 5Central Capital LLC, a real estate investment company. The application serves as both a public-facing portfolio website and an internal analytics dashboard for tracking real estate investment performance. The system is built with a modern React frontend and Express.js backend, using PostgreSQL for data persistence.

## System Architecture

### Frontend Architecture
- **Framework**: React 18 with TypeScript
- **UI Library**: Shadcn/ui components with Radix UI primitives
- **Styling**: Tailwind CSS with custom design system
- **State Management**: React hooks and context
- **Data Fetching**: TanStack React Query for API calls
- **Routing**: React Router for client-side navigation
- **Charts**: Recharts for data visualizations

### Backend Architecture
- **Framework**: Express.js with TypeScript
- **Database ORM**: Drizzle ORM for type-safe database interactions
- **Database**: PostgreSQL (configured for Neon serverless)
- **Build Tool**: esbuild for server bundling
- **Development**: tsx for TypeScript execution

### Development Environment
- **Package Manager**: npm
- **Build Tool**: Vite for frontend bundling
- **TypeScript**: Strict mode enabled across the stack
- **Linting**: Built-in TypeScript checking

## Key Components

### Public Portfolio Website
- Property portfolio showcase with performance metrics
- Company information and founder biography
- Investment strategy and vision presentation
- Investor interest collection forms
- Responsive design for all device sizes

### Admin Dashboard (Planned)
- Real estate portfolio management
- Financial metrics tracking and visualization
- Property performance analytics
- User authentication and session management
- Role-based access control (admin, manager, viewer)

### Database Schema
The application uses a comprehensive schema for real estate analytics:
- **Users**: Authentication with role-based permissions
- **Sessions**: Secure session management
- **Company Metrics**: Financial KPI tracking
- **Properties**: Real estate portfolio data (planned)
- **Financial Metrics**: Detailed financial performance tracking (planned)

## Data Flow

### Public Website Flow
1. Static pages served via Vite-processed React components
2. Property data currently managed in frontend state
3. Investor inquiries stored in localStorage (temporary solution)
4. Image assets served from public directory

### Admin Dashboard Flow (Planned)
1. User authentication via Express API endpoints
2. Protected routes requiring valid session tokens
3. Database queries through Drizzle ORM
4. Real-time data updates via React Query
5. Chart data processed and visualized via Recharts

## External Dependencies

### Core Framework Dependencies
- **React Ecosystem**: react, react-dom, react-router-dom
- **UI Components**: @radix-ui components, lucide-react icons
- **Styling**: tailwindcss, autoprefixer, postcss
- **Data Fetching**: @tanstack/react-query
- **Charts**: recharts for analytics visualizations

### Backend Dependencies
- **Database**: @neondatabase/serverless, drizzle-orm
- **Validation**: zod for schema validation
- **Session Management**: connect-pg-simple (planned)
- **Utilities**: date-fns for date formatting

### Development Dependencies
- **Build Tools**: vite, esbuild, tsx
- **TypeScript**: Full type coverage across stack
- **Development**: @replit/vite-plugin-runtime-error-modal

## Deployment Strategy

### Production Build
- Frontend: Vite builds to `dist/public` directory
- Backend: esbuild bundles server to `dist/index.js`
- Static assets: Served via Express static middleware

### Environment Configuration
- **Development**: npm run dev (tsx server with Vite middleware)
- **Production**: npm run build && npm run start
- **Database**: Environment variable-based configuration

### Hosting Platform
- **Replit**: Configured for autoscale deployment
- **Port Configuration**: Server runs on port 5000, mapped to external port 80
- **Database**: Neon PostgreSQL serverless database

### Migration Strategy
- Drizzle Kit for database schema management
- SQL migrations stored in `supabase/migrations/` directory
- Push-based deployment via `npm run db:push`

## Changelog

Changelog:
- June 17, 2025. Initial setup
- June 17, 2025. Fixed property card data display - now pulling accurate values directly from database
- June 18, 2025. Built comprehensive deal analysis system with real-time KPI calculations, WebSocket support, and sample data
- June 19, 2025. Restructured rehab budget to match detailed spreadsheet format with two-column layout, proper categorization (Exterior, Kitchens, Bathrooms, General Interior Rough, Finishings), 10% buffer calculation, and comprehensive breakdown summary
- June 19, 2025. Integrated deal analyzer as new tab in admin dashboard between Financial and Properties tabs
- June 19, 2025. Removed demo credentials from admin login page for enhanced security
- June 19, 2025. Built comprehensive financial dashboard with rent roll management, rehab budgeting, lender analysis, and exit scenario modeling based on Excel specification
- June 19, 2025. Moved admin login button to header navigation positioned right of Invest button with standard header text styling
- June 19, 2025. Added comprehensive save/export functionality to deal analyzer with localStorage persistence, JSON/CSV export options, and saved deals management panel
- June 19, 2025. Made saved deal and export buttons smaller for enhanced spacing in deal analyzer header
- June 19, 2025. Removed Overview, Financial, Financial Dashboard, and Investor Leads tabs from admin dashboard, keeping only Deal Analyzer, Properties, and Reports tabs with Deal Analyzer as default
- June 19, 2025. Built comprehensive Net Worth Tracker tab with interactive asset allocation monitoring, editable entity management, and automatic net worth calculations based on real estate equity, stock portfolio, and cash equivalents
- June 19, 2025. Redesigned Net Worth Tracker with modern gradient styling, circular progress indicators, enhanced visual analytics, and card-based entity management layout
- June 19, 2025. Transformed Properties tab into comprehensive Asset Management dashboard with KPI bar driven by actual property data, financial statement tabs (Balance Sheet, Income Statement, Cash Flow), and real-time portfolio calculations
- June 20, 2025. Built comprehensive Entity Dashboard with top metric bar (AUM, Price/Unit, Units, Properties, Equity Multiple, Monthly Cash Flow), cash balance management, milestone tracking, to-do list widget, and Entity KPIs section with 6 tabs (Overview, Owner, Financials, Members, Compliance, Properties) - all calculations derived from actual property data
- June 20, 2025. Reordered admin dashboard tabs to: Dashboard, Asset Management, Deal Analyzer, Roadmap (Coming Soon), Net Worth, Reports - with Entity Dashboard as default landing page
- June 20, 2025. Enhanced Entity Dashboard with fully editable to-do list and milestone management featuring inline editing, add/delete functionality, status toggling, and comprehensive CRUD operations - all data persisted in component state
- June 20, 2025. Updated Entity KPIs section header to prominently display "5Central Capital" with redesigned KPI cards showing entity-level metrics derived from property and financial data in modern color-coded layout
- June 20, 2025. Implemented property-to-entity assignment functionality in Asset Management with dropdown selection for entities (5Central Capital LLC, Harmony Holdings LLC, Crystal Properties LLC) and filtered property display in Entity Dashboard properties tab showing only assets assigned to specific entities
- June 20, 2025. Built comprehensive editable entity management system with separate sections for each entity displaying individual KPIs, property assignments, financial metrics, and entity details - includes add/edit/delete functionality for entities with full CRUD operations and real-time property filtering
- June 20, 2025. Completely overhauled Asset Management page with KPI bar matching dashboard design, comprehensive financial statement tabs (Balance Sheet, Income Statement, Cash Flow Statement), and modernized property cards with entity assignment dropdowns - all calculations derived from actual property data with authentic financial metrics
- June 20, 2025. Redesigned Entity Dashboard with collective KPIs at top showing total portfolio metrics, shared middle section with cash balance/milestones/todos for all entities, and individual entity sections at bottom displaying entity-specific metrics and properties filtered by real database assignments
- June 20, 2025. Enhanced Entity Dashboard with comprehensive tab system: Overview tab with detailed property analytics, Financials tab with real property-based income statements and asset valuations, combined Owners & Members tab with equity percentages and roles, Compliance tab with entity-specific legal requirements tracking, and Properties tab with filtered property listings - all calculations derived from authentic database property data
- June 20, 2025. Added database schema for entity memberships and compliance tracking to support user-based access control, equity percentage tracking, and comprehensive compliance management with status tracking, due dates, and priority levels
- June 20, 2025. Implemented comprehensive user-based access control system - users now only see entities they own and properties tied to those entities through session-based authentication with token management, filtered API endpoints using getPropertiesForUser method, and middleware authentication protecting all user-specific data access
- July 8, 2025. Implemented dynamic featured properties management system with database-driven display on homepage - created PropertyModal component with feature/unfeature toggle and delete confirmation functionality - updated database schema to include isFeatured boolean field for properties - integrated API endpoints for featured properties management and property feature toggling - centralized property actions (feature/delete) in PropertyModal instead of inline buttons for better UX - featured properties now dynamically loaded from database instead of hardcoded homepage data with loading states and empty state handling
- July 8, 2025. Removed header section from admin dashboard containing "5Central Capital Analytics Dashboard" and "Welcome, viewer" elements - cleaned up admin interface by eliminating redundant header information
- June 20, 2025. Redesigned KPI bars across Asset Management and Entity Dashboard to match Deal Analyzer design style with bordered containers, Calculator icons, and consistent label/value formatting - reorganized Entity Dashboard middle section into two side-by-side columns with Cash Balance/Milestones on left and To-Do List on right - standardized entity headers with unified design showing entity name, summary metrics, and performance indicators across all entities
- June 20, 2025. Applied Deal Analyzer color scheme to KPI bars in Entity Dashboard and Asset Management with colored background sections (blue-50, green-50, purple-50, orange-50, indigo-50, emerald-50) and matching text colors for visual consistency - positive/negative values use appropriate green/red coloring - all KPI sections now have unified visual design across the entire application
- June 20, 2025. Updated entity names across the entire application: "Harmony Holdings LLC" renamed to "The House Doctors", "Crystal Properties LLC" renamed to "Arcadia Vision Group", and "5Central Capital LLC" simplified to "5Central Capital" - updated all frontend components, database records, and entity assignment dropdowns to reflect the new branding
- June 20, 2025. Reorganized Asset Management property portfolio into separate sections for active and sold properties with distinct layouts - active properties display in horizontal cards with full-width layout, sold properties display in square grid boxes (3 per row) with compact design - both sections maintain full database integration and entity assignment functionality
- June 20, 2025. Added comprehensive property detail modal functionality - double-clicking any property card opens a large modal displaying complete property information including financial metrics, investment data, acquisition details, performance summaries, and sale information for sold properties - modal features responsive design with two-column layout and color-coded sections
- June 20, 2025. Implemented comprehensive user account creation and entity ownership setup system - added "Create an Account" button to admin login page directing to account setup form with email/password authentication and entity ownership configuration - users can define multiple entities with ownership percentages, asset types (real estate, cash, stocks, bonds, business, other), and current values - system creates user accounts with secure password hashing and links entity ownership records for personalized dashboard generation
- June 20, 2025. Built personalized onboarding tour for new users - interactive guided tour highlights key dashboard features (KPI metrics, navigation, entity management, deal analyzer, asset management) with step-by-step progression, element highlighting, and tour restart functionality - automatically triggers for new users and includes data tour attributes throughout the dashboard for seamless guidance
- June 20, 2025. Redesigned KPI bars to match Deal Analyzer's continuous gradient design - implemented single continuous blue-to-purple gradient bar (from-blue-600 via-blue-500 via-purple-500 to-purple-600) with white text and subtle border separators between metrics - replaced separate tiles with unified horizontal layout displaying all metrics inline within the same gradient bar - applied consistent styling across Entity Dashboard and Asset Management with Calculator icons for unified design language
- June 20, 2025. Added comprehensive Active Deals section to Asset Management with side-by-side layout - left side displays detailed property cards with acquisition details, units, ARV, and entity assignment - right side features progress tracking with visual progress bars for rehab completion and budget utilization including total budget, spent amount, remaining funds with color-coded indicators (green/yellow/red) and status tracking for ongoing renovations
- June 20, 2025. Implemented comprehensive property status management system - added property status dropdown with four stages ("Under Contract", "Rehabbing", "Cashflowing", "Sold") and reorganized Asset Management into separate sections for each property stage with stage-specific card layouts - Under Contract and Cashflowing properties display in standard horizontal cards, Rehabbing properties show enhanced cards with progress tracking and budget management, Sold properties display in compact grid format with sale metrics - includes full CRUD operations for status updates with database persistence
- June 20, 2025. Reorganized Asset Management layout structure - moved Financial Statements tabs (Balance Sheet, Income Statement, Cash Flow Statement) to top section after KPI bar, deleted legacy active and sold property sections, redesigned property sections with Under Contract as compact section for light usage and Rehabbing as side-by-side layout with enhanced progress tracking and budget management on right side including total budget, spent amounts, remaining funds with color-coded progress bars and status indicators
- June 20, 2025. Built comprehensive Deal Analyzer to Property Import workflow - added "Import to Properties" button with modal for collecting missing property data (entity, acquisition date, broker, legal notes) and automatic data transfer from Deal Analyzer to Properties database with "Under Contract" status by default - preserves all deal analysis data including purchase price, rehab costs, financial metrics, and calculated values
- June 20, 2025. Enhanced saved deals management in Deal Analyzer with delete functionality - added trash icon buttons next to Load buttons for each saved deal, implemented delete function with localStorage persistence, maintained exact layout and design integrity while adding full CRUD operations for saved deal management
- June 20, 2025. Added comprehensive property financial breakdown modal to Entity Dashboard - double-clicking property rows opens detailed modal with Deal Analyzer design style showing Revenue, Expenses, NOI, Investment Summary, Loan Analysis, and Property Details sections with color-coded financial breakdown calculations and comprehensive property information display
- June 20, 2025. Implemented comprehensive micro-interactions and hover animations throughout the entire application - added smooth transitions, card hover effects, button animations, icon bounces, scale transforms, and staggered children animations to enhance user engagement across Deal Analyzer, Asset Management, and Entity Dashboard components - all interactive elements now feature subtle animations and micro-interactions using fade-in, card-hover, button-pulse, icon-bounce, hover-glow, hover-scale, and transition classes for improved user experience
- June 20, 2025. Updated spacing across all admin dashboard pages to be full width by removing container width constraints (max-w-7xl mx-auto, max-w-6xl mx-auto, container mx-auto) from AdminDashboard, EntityDashboard, DealAnalyzer, and NetWorthTracker pages while preserving existing layout structure - all admin dashboard pages now utilize full browser width for improved space utilization
- June 20, 2025. Extended full-width layout to header logo and navigation tabs by removing max-width constraints from header and navigation sections - entire admin dashboard now uses complete browser width including header, tabs, and all page content
- June 21, 2025. Updated sold property card KPIs to show: Capital Invested (initial capital required), Total Profit (cashflow + sale profits), Equity Multiple (calculated return multiple), and Sale Price - replaced previous metrics with investor-focused financial performance indicators
- June 21, 2025. Redesigned sold property cards with smaller, more compact layout displaying 4 cards per row instead of 3 - reduced padding, spacing, and text sizes while maintaining color-coded metric sections and visual hierarchy
- June 21, 2025. Built comprehensive property detail modal with 8 editable tabs (Overview, Rent Roll, Rehab Budget, Income & Expenses, Financing, Sensitivity, 12-Month Proforma, Exit Analysis) - all tabs feature full CRUD operations with database persistence through dealAnalyzerData field - Income & Expenses tab combines income sources and operating expenses with real-time NOI calculations - Sensitivity tab provides scenario analysis with adjustable variables - 12-Month Proforma displays monthly cash flow projections with annual totals - Edit/Save functionality preserves all changes to property database records
- June 21, 2025. Enhanced property detail modal with fully editable rent roll (unit numbers, types, current/market rents with add/remove functionality), comprehensive rehab budget tracking (spending, remaining budgets, completion status with real-time progress indicators), and complete exit analysis with refinance section (editable LTV, rates, costs with automatic projections) plus strategy comparison table analyzing hold vs refinance vs sale scenarios - all calculations update in real-time with database persistence
- June 21, 2025. Conducted comprehensive calculation review and corrections - fixed cash-on-cash return to use actual equity invested post-refinance, corrected break-even occupancy formula to use proper expense-to-revenue ratio, improved equity multiple calculation to reflect total value returned vs initial investment, enhanced ARV calculation with proper validation for negative NOI scenarios, updated debt service calculations to use post-refinance terms for stabilized cash flow analysis, and aligned all financial metrics with professional real estate investment standards
- June 21, 2025. Implemented normalized database architecture with separate tables for Deal Analyzer components (property_assumptions, property_unit_types, property_rent_roll, property_expenses, property_rehab_budget, property_closing_costs, property_holding_costs, property_exit_analysis, property_income_other) while maintaining backward compatibility with existing dealAnalyzerData JSON field - includes comprehensive storage interface with sync methods for seamless data migration and enhanced query performance
- June 21, 2025. Fixed sales cap rate in exit analysis to function as proper real estate cap rate - changed calculation from ARV multiplier approach to NOI / Cap Rate formula, updated input field to percentage format (3.0% to 10.0% range), set default value to 5.5% cap rate, and aligned projected sales price calculations with professional real estate investment standards
- June 21, 2025. Implemented comprehensive multi-loan functionality in property modal Financing tab - added support for multiple loans per property with interest-only vs full amortization payment types, active loan designation system for debt service calculations, loan management features (add/edit/delete loans), automatic monthly payment calculations using proper loan formulas, and loan type classification (acquisition, refinance, construction, bridge) - active loan is used for all cash flow analysis throughout the property
- June 21, 2025. Enhanced 12-month proforma tab to use active loan debt service - added dedicated debt service column showing monthly payments from the active loan designated in financing tab, updated annual totals to reflect active loan payments, and integrated multi-loan system calculations for accurate cash flow projections throughout the proforma analysis
- June 23, 2025. Updated Deal Analyzer KPI display with new metric order: capital required, rehab cost, all-in cost, ARV, purchase cost per unit, equity multiple - implemented new loan calculation formulas (initial loan = 85% of purchase price + rehab cost, refinance loan = editable LTV × ARV) and updated investment summary with total cash invested = capital required + holding costs - enhanced equity multiple calculation to (ARV - all in cost) / capital required
- June 23, 2025. Enhanced Deal Analyzer sensitivity analysis with dynamic calculations - rent sensitivity now shows +/-5% and 10% variations around actual market rent values from rent roll, cap rate sensitivity displays +/-0.5% and 1.0% variations around editable market cap rate assumption from overview page - both sections now show base values and dynamically adjust calculations based on user-defined assumptions rather than static ranges
- June 23, 2025. Fixed initial loan calculation in Deal Analyzer to properly use editable loan percentage assumption from overview page instead of hardcoded 85% - updated frontend calculation logic to use assumptions.loanPercentage for both initial loan amount and down payment calculations, ensuring loan percentage field directly controls loan calculations throughout the analysis
- June 23, 2025. Corrected loan analysis section initial loan calculation to use (purchase price + total rehab cost) × loan percentage assumption instead of purchase price only - ensures loan analysis reflects complete project financing including acquisition and renovation costs
- June 23, 2025. Updated interest rate sensitivity analysis to dynamically use refinance interest rate assumption with +/-0.5% and 1.0% variations instead of hardcoded rates - displays base refinance rate and calculates cash flow impact using refinance loan amount and 30-year term for accurate post-refinance analysis
- June 23, 2025. Fixed hold strategy property appreciation calculation to use ARV as baseline instead of purchase price with editable annual appreciation rate input field (default 3.0%) - property appreciation now calculates as ARV × annual appreciation rate × hold period years for accurate investment projections based on stabilized property value after improvements
- June 23, 2025. Added profit KPI to Deal Analyzer KPI bar between Purchase Cost/Unit and Equity Multiple showing ARV - All-In Cost calculation - expanded KPI bar from 6 to 7 columns to display total potential profit from the deal for clearer investment evaluation
- June 23, 2025. Added 3-month initial interest reserve cost to both loan analysis section (monthly debt service × 3) and closing costs section with automatic calculation - implemented negative number support for seller credits in closing costs using new validateClosingCostInput function
- June 23, 2025. Added comprehensive editable timeline/workflow section to bottom of rehab budget tab with pre-populated steps (close, eviction, renovations, demo, paint, minisplits, flooring, listing, refinance), status tracking (pending/in-progress/completed/on-hold), progress indicators, notes fields, add/delete functionality, and progress summary dashboard
- June 23, 2025. Updated 3-month interest reserve in closing costs section to dynamically calculate from loan analysis values instead of static editable amount - both loan analysis and closing costs sections now show consistent real-time calculated values that update with loan parameter changes
- June 23, 2025. Redesigned timeline/workflow in rehab section with comprehensive budget integration - workflow steps now link directly to specific budget items (e.g., Kitchen Renovation → Kitchens/Cabinets), marking steps complete automatically updates budget item completion status, added category progress overview with real-time progress bars for all 5 budget categories, enhanced visual design with color-coded status indicators and budget link displays
- June 23, 2025. Implemented enhanced normalized database architecture with separate tables for property assumptions, loans, cash flow history, performance metrics, and workflow steps - supports multi-loan tracking, historical KPI storage, and calculation-based data rather than static storage for improved accuracy
- June 23, 2025. Created comprehensive calculation service with PropertyMetrics interface covering core financial metrics, investment returns, debt metrics, risk metrics, valuation metrics, and project costs - enables accurate real-time KPI calculations from normalized database structure with parallel data fetching for optimal performance
- June 23, 2025. Implemented comprehensive persistent state management for Deal Analyzer with automatic localStorage saving - added useEffect hooks to auto-save all user entries including property name, address, assumptions, rent roll, expenses, rehab budget, closing costs, holding costs, exit analysis, and workflow steps - entries now persist across page navigation and browser sessions without requiring manual save actions
- June 23, 2025. Enhanced Deal Analyzer with comprehensive negative number support across all editable fields - updated validateNumberInput, validateOverviewNumberInput, and validateClosingCostInput functions to allow negative values for seller credits, adjustments, and other scenarios - maintains proper number formatting while supporting negative entries throughout the application
- June 23, 2025. Added clearAllSavedData function to Deal Analyzer for convenient data reset - provides one-click option to clear all localStorage entries and reset to default values with user confirmation prompt - enables easy deal comparison and fresh analysis starts while maintaining persistent state architecture
- June 23, 2025. Completed centralized calculation system implementation across all property modal tabs - updated Overview tab to use getPropertyCalculations() function for annual cash flow and cash-on-cash return calculations ensuring complete consistency with Income & Expenses and 12-Month Proforma tabs - achieved full financial data synchronization between Deal Analyzer and Asset Management components with console logging confirming identical calculations across all tabs
- June 23, 2025. Enhanced Deal Analyzer import functionality to include new rent roll features (tenant names, lease start/end dates) and rehab budget progress tracking (spent amounts, completion status) - updated database schema to support leaseStart and leaseEnd fields in property_rent_roll table - enhanced importNormalizedDataComponents function to import tenant information and lease dates from Deal Analyzer rent roll - improved rehab budget import to calculate completion status based on spent amounts versus total costs for accurate progress tracking
- June 23, 2025. Removed confirmation modal when moving properties through status ladder - status changes via dropdown now happen immediately without confirmation step for streamlined property management workflow
- June 23, 2025. Replaced rehab tracking modal in Asset Management with comprehensive Deal Analyzer rehab budget system - unified experience with detailed budget tables, category breakdown, progress tracking, timeline workflow, and automatic calculations matching Deal Analyzer functionality - maintains full import compatibility and data integrity
- June 23, 2025. Unified property data display across Asset Management and Entity Dashboard by implementing centralized calculatePropertyMetrics function - Entity Dashboard Properties tab now displays identical financial metrics and calculations as Asset Management ensuring complete data consistency and accurate property performance tracking throughout the entire application
- June 23, 2025. Removed Properties tab from Entity Dashboard per user request and implemented robust debt service calculation with multiple fallback methods - added safety checks for unreasonable debt service amounts, improved calculation logic with bounds checking, and implemented estimation methods using NOI ratios when Deal Analyzer loan data is problematic
- June 23, 2025. Implemented comprehensive sales data modal that intercepts property status changes from "Cashflowing" to "Sold" - collects sale price, NOI at sale, and sale date with real-time calculation preview showing hold time, total cash flow, total profit, equity multiple, cash-on-cash return, sale cap rate, and annualized return - automatically stores all calculated investment performance metrics in property database record - verified consistent cash flow calculations between property tiles and modals using centralized calculatePropertyMetrics function
- June 23, 2025. Fixed property tile display inconsistency - resolved issue where tiles showed incorrect cash flow and CoC return values despite correct modal calculations - property tiles now display accurate $4,855 monthly cash flow and 21.6% CoC return matching modal Overview tab calculations
- June 23, 2025. Updated property tiles to display Annual Cash Flow and Equity Multiple instead of monthly cash flow and CoC return - implemented exact same calculation logic from property modal Overview tab ensuring consistent financial metrics across all property displays with proper Deal Analyzer data integration
- June 23, 2025. Replaced Portfolio page with Asset Management property status system - properties now organized by status (Under Contract, Rehabbing, Cashflowing, Sold) with double-click KPI modal functionality displaying comprehensive financial metrics including revenue, expenses, cash flow, and investment summary using real Deal Analyzer data calculations
- June 23, 2025. Fixed Portfolio page KPI calculations with centralized calculation logic - resolved TypeScript errors, implemented consistent financial metrics across all property displays, added public portfolio endpoint for unauthenticated access, and unified KPI modal display with comprehensive revenue, expenses, cash flow, and investment summary sections using authentic Deal Analyzer data
- June 23, 2025. Fixed Asset Management KPI bar with corrected calculations and order: Total Units, AUM (total ARV), Total Equity (AUM - current debt), Current Monthly Income, Price/Unit (AUM / units), Avg Equity Multiple, and Avg CoC - updated to 7-column layout with proper debt calculations from Deal Analyzer loan data
- June 23, 2025. Synchronized Entity Dashboard KPIs to match Asset Management structure exactly - updated both collectiveMetrics and calculateEntityMetrics functions to use identical 7-metric calculation logic (Total Units, AUM, Total Equity, Current Monthly Income, Price/Unit, Avg Equity Multiple, Avg CoC) with proper debt calculations from Deal Analyzer loan data and consistent status filtering for "Cashflowing" properties
- July 8, 2025. Enhanced Deal Analyzer with Google Places API address autocomplete in header section - replaced manual address input with AddressAutocomplete component providing real-time suggestions and address validation - implemented address component parsing (street, city, state, zip) with localStorage persistence for improved property import accuracy - added fallback to manual parsing when Google Places data unavailable
- July 8, 2025. Integrated Federal Reserve API for real-time market interest rates - created FederalReserveService with getCurrentMarketRates() and getRecommendedLendingRates() methods - added MarketRatesWidget component displaying 30-year mortgage, 15-year mortgage, 10-year treasury, fed funds rate, and prime rate alongside recommended investment property rates (acquisition, refinance, bridge, construction) - integrated widget into Deal Analyzer Sensitivity Analysis tab for enhanced market-aware investment analysis
- July 8, 2025. Implemented comprehensive Census API integration for demographic and market analysis - created CensusService with getDemographicData() and getInvestmentRecommendations() methods providing population, income, education, unemployment, and housing data - built CensusDemographicsWidget component with demographic metrics display and investment analysis scoring system - added API endpoints /api/census/demographics and /api/census/investment-analysis - integrated demographics widget into Deal Analyzer Sensitivity Analysis tab for location-based investment evaluation with investment grading (A-D) and market recommendations
- July 8, 2025. Created unified calculation system to eliminate inconsistencies between Portfolio.tsx, Asset Management, Entity Dashboard, and Deal Analyzer components - implemented centralized CalculationService class in client/src/services/calculations.ts with standardized PropertyKPIs and PortfolioMetrics interfaces - created CalculationsContext React context for sharing calculation logic across all components - refactored AssetManagement.tsx and EntityDashboard.tsx to use centralized calculatePropertyKPIs method instead of local calculation functions - resolved all method reference conflicts and syntax errors for consistent financial calculations (NOI, cash flow, equity multiples, cap rates) throughout the entire application
- July 8, 2025. Conducted comprehensive review and optimization of centralized calculation system - removed all hardcoded values including vacancy rates (5%), management fees (8%), loan terms (30 years), down payment assumptions (20%), interest rates (6%), cap rates (5.5%), loan percentages (75%/80%) - fixed cash-on-cash return calculation inconsistency between server and client by ensuring both multiply by 100 for percentage - eliminated all console.log and console.error statements throughout calculation services, Deal Analyzer, server routes, and API files - ensured complete server-client calculation alignment for equity multiples, cash-on-cash returns, and all financial metrics
- July 8, 2025. Updated homepage portfolio metrics to match Portfolio page KPI structure and calculations - replaced hardcoded values with centralized calculation service using calculatePortfolioMetrics() function - integrated real-time portfolio data fetching from /api/public/portfolio endpoint - implemented consistent formatting with formatCurrency() and formatPercentage() functions - ensured identical metrics display between homepage and portfolio page using authentic database calculations
- July 8, 2025. Made "Our Investment Approach" section in Portfolio page fully dynamic - replaced hardcoded performance metrics with real-time calculated values from metrics object (cash-on-cash returns, annualized performance, total equity created, total units) - updated geographic focus to use actual property data for state counts and primary markets list generated from unique cities in database - eliminated all hardcoded values in investment approach section for complete data accuracy
- July 8, 2025. Fixed calculation system consistency by eliminating deprecated calculatePortfolioMetrics usage - updated Portfolio.tsx and Home.tsx to use only calculatePropertyKPIs for individual property calculations and aggregate metrics in components - deprecated calculatePortfolioMetrics function with warning message - fixed field name mismatch by using 'apartments' field instead of 'numberOfUnits' for total units calculation - achieved complete calculation consistency across all components using centralized calculation service
- July 8, 2025. Implemented comprehensive debt management system with monthly statement upload functionality - created document parser service supporting PDF, CSV, Excel, and text file formats with lender-specific pattern recognition - built automated data extraction and property matching system for updating loan records - added statement upload component with drag-and-drop interface, file validation, and progress tracking - integrated debt management tab into admin dashboard with comprehensive statement processing workflow - enhanced database schema with live debt data fields including sync status, external loan IDs, and payment tracking - supports automated monthly statement uploads as practical alternative to direct API integration
- July 8, 2025. Enhanced PDF parsing with comprehensive data extraction - improved text parsing patterns to accurately extract loan balances, property addresses, loan IDs, monthly payments, and interest rates - created UnmatchedLoanCard component for manual review interface allowing users to edit parsed loan data and assign to properties - added manual review API endpoint (/api/statements/manual-review) for saving user-corrected loan data - fixed Asset Management calculation errors by adding proper type checking to formatCurrency and formatPercentage functions - PDF parsing now extracts complete loan information including $245,000 balance, property address "1 Harmony St, Hartford, CT 06106", and loan ID "WF123456789" from test files
- July 8, 2025. Fixed critical application startup errors and enhanced document parser robustness - resolved missing server authentication module imports that prevented server startup - created missing UI components (input, label, select, textarea) and utility functions - installed required dependencies (clsx, tailwind-merge) - enhanced parseAmount method to handle various financial formats including parentheses for negative amounts and accounting formats - added comprehensive fallback patterns for balance extraction when primary patterns fail - improved text parsing with enhanced regex patterns and debugging information - fixed Plaid API configuration by removing invalid 'accounts' product - document parser now successfully extracts loan data from CSV/Excel files with proper validation and error reporting
- July 8, 2025. Overhauled property modal financing tab to integrate with PDF upload debt information - created comprehensive property loans API with CRUD operations, sync functionality, and live debt data tracking - built LiveDebtDataSection component displaying real-time loan information from uploaded statements with sync status indicators, active loan designation, and Deal Analyzer synchronization - enhanced financing tab with dual view showing both live debt data and Deal Analyzer loans for comprehensive loan management - implemented property loan database operations with authentication, loan creation/update/delete, and automated sync from document parser - added visual sync status badges, refresh functionality, and seamless integration between uploaded debt information and property analysis
- July 8, 2025. Enhanced CSV template system for mortgage statement uploads - built parseMortgageStatementFormat method to handle Field/Value pair CSV format matching user's mortgage statement template - created comprehensive CSV template download component with both mortgage statement format (Field/Value pairs) and tabular format options - enhanced document parser to support mortgage-specific fields including Outstanding Principal Balance, Regular Monthly Payment, Escrow Balance, Prepayment Penalty, Late Fee details - integrated CSV template downloads into debt management tab with pre-formatted templates for robust loan data processing - improved parseAmount and parseRate methods to handle various financial formats and interest rate conversions
- July 8, 2025. Fixed manual debt verification functionality - resolved JavaScript error in UnmatchedLoanCard component where properties?.map was failing by adding proper array type checking and error handling - updated manual-review endpoint to use correct syncStatus enum values ("success" instead of "manual_review_complete") - fixed date/timestamp format issues in manual-review API endpoint by properly handling date field types and database constraints - enhanced error handling and loading states for properties data in debt verification components - manual review functionality now working correctly with verified database insertion success
- July 8, 2025. Enhanced mortgage statement parsing and financing tab display - updated document parser to extract comprehensive mortgage data including late fees, prepayment penalties, escrow balances, past due amounts, unapplied funds, deferred balances, replacement reserves, original loan amounts, loan types, and maturity dates - enhanced parseMortgageStatementFormat to handle multiple loans in single CSV file by grouping data by loan number - updated LiveDebtDataSection in financing tab to display enhanced statement details in organized sections (Payment Information, Account Balances, Loan Terms) with visual formatting for important data like past due amounts and prepayment penalties - added proper lender name extraction from "Lender Name" field in CSV data - financing tab now shows comprehensive mortgage statement information when available from parsed loan data
- July 8, 2025. Completed comprehensive mortgage statement parsing system - fixed Excel serial date conversion to properly display dates (2025-07-01, 2025-05-21, 2054-12-01) instead of 1970-01-01 errors - enhanced LiveDebtDataSection with escrow balance display in green-highlighted format and expanded to 5-column grid layout - enlarged UnmatchedLoanCard to 3-column layout with organized Payment Information, Account Balances, and Loan Terms sections - verified complete data extraction from Combined_Mortgage_Statements CSV including interest rates (6.875%, 8.499%), monthly payments ($8,087.90, $4,672.97), escrow balances ($8,274.76, $7,109.30), past due amounts, prepayment penalties, and 20+ comprehensive mortgage fields - ensured complete data flow from CSV parsing through manual review to financing tab storage for accurate KPI calculations
- July 8, 2025. Finalized manual review interface enhancements - fixed SQL syntax error in property-loans routes by adding missing imports (isNotNull, desc) - redesigned manual review to display loans side-by-side in responsive 2-column grid layout for efficient comparison - added dedicated escrow balance input field with green styling in UnmatchedLoanCard component - completely removed CSV template downloads section including CSVTemplateDownload component and all references - verified complete workflow from statement upload through manual review to property assignment with proper escrow balance parsing ($8,274.76, $7,109.30) and comprehensive mortgage data integration for accurate financial analysis
- July 8, 2025. Fixed critical AUM calculation issues - removed sold properties from AUM calculations in AssetManagement and EntityDashboard components - AUM now correctly shows only active properties (Under Contract, Rehabbing, Cashflowing) totaling ~$7.8M instead of incorrectly including sold properties (~$14M) - fixed interest rate display formatting in LiveDebtDataSection to show 8.49% instead of 849.90% - corrected capital required calculation to exclude rehab costs since they're financed through loans - capital required now properly calculated as downpayment + closing costs + holding costs only
- July 8, 2025. Updated Deal Analyzer import functionality to exclude rehab costs from capital required calculations - modified calculateInitialCapital method in server/storage.ts and importToProperties function in client/src/pages/DealAnalyzer.tsx to calculate capital required as downpayment + closing costs only, excluding rehab costs since they're financed through loans - ensures consistent capital required calculations for all future property imports from Deal Analyzer
- July 8, 2025. Added property image functionality to 4809 N Grady Ave property card - stored image path in dealAnalyzerData field and updated PropertyCard and FeaturedDealCard components with new image mapping for attached_assets path - property cards now display user-uploaded images
- July 8, 2025. Fixed Portfolio page image display by updating getPropertyImage function to check dealAnalyzerData for dynamic images stored in database - images now display correctly from attached_assets directory
- July 8, 2025. Fixed Entity Dashboard equity multiple calculation inconsistency by using correct field names (totalClosingCosts, totalHoldingCosts) to match Asset Management calculation exactly - resolved field name mismatch that was causing incorrect equity multiple calculations
- July 8, 2025. Implemented comprehensive AI-powered document processing system using OpenAI API - created AIDocumentProcessor service supporting lease, LLC document, and mortgage statement analysis with automatic classification, structured data extraction, confidence scoring, and property record updates - added DocumentUpload component with drag-and-drop interface, processing results display, and manual review workflow - integrated AI Documents tab into admin dashboard with upload functionality, processing history, and document management capabilities - includes PDF parsing, image document support, and comprehensive error handling with suggested actions
- July 8, 2025. Fixed critical document upload issues - resolved property dropdown empty array bug by extracting from nested data response, enhanced PDF parsing with robust fallback patterns for extracting text from binary PDFs, improved unknown document handling with flexible data extraction, fixed SelectItem empty value errors causing white screen crashes, added comprehensive error boundaries and authentication handling for seamless document processing workflow

## User Preferences

Preferred communication style: Simple, everyday language.